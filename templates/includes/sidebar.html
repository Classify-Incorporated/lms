{% load static %}
{% load permissions %}

<!-- Sidebar -->
<ul class="navbar-nav sidebar custom-sidebar accordion" id="accordionSidebar">
  <!-- Sidebar - Brand -->
  <a class="sidebar-brand d-flex align-items-center justify-content-center" href="{% url 'dashboard' %}">
    <div class="sidebar-brand-icon">
      <img src="{% static 'images/gsu_logo.png' %}" alt="Classify Logo" style="width: 45px; height: 45px; border-radius: 50%;" />
    </div>
    <div class="sidebar-brand-text mx-2">
      GSU <sup>LMS</sup>
    </div>
  </a>
  <!-- Divider -->
  <hr class="sidebar-divider my-0" />
  <!-- Nav Item - Dashboard -->
  <li class="nav-item {% if request.resolver_match.url_name == 'dashboard' %}active{% endif %}">
    <a class="nav-link" href="{% url 'dashboard' %}">
      <i class="bx bx-home-alt"></i>
      <span>Dashboard</span>
    </a>
  </li>
  {% if user|has_perm:'accounts.view_profile' %}
  <li class="nav-item {% if request.resolver_match.url_name == 'student' %}active{% endif %}">
    <a class="nav-link" href="{% url 'student' %}">
      <i class="bx bx-user"></i>
      <span>Student</span>
    </a>
  </li>
  {% endif %}
  <li class="nav-item {% if request.resolver_match.url_name == 'activity_stream' %}active{% endif %}">
    <a class="nav-link" href="{% url 'activity_stream' %}">
      <i class="bx bx-bar-chart-alt-2"></i>
      <span>Activity Stream</span>
    </a>
  </li>

  {% if user|has_perm:'course.view_course' %}
  <li class="nav-item {% if request.resolver_match.url_name == 'SubjectList' %}active{% endif %}">
    <a class="nav-link" href="{% url 'SubjectList' %}">
      <i class="bx bx-book"></i>
      <span>Courses</span>
    </a>
  </li>
  {% endif %}

  <li class="nav-item {% if request.resolver_match.url_name == 'calendars' %}active{% endif %}">
    <a class="nav-link" href="{% url 'calendars' %}">
      <i class="bx bx-calendar"></i>
      <span>Calendar</span>
    </a>
  </li>

  {% if user|has_perm:'message.view_message' %}
  <li class="nav-item {% if request.resolver_match.url_name == 'inbox' %}active{% endif %}">
    <a class="nav-link" href="{% url 'inbox' %}">
      <i class="bx bx-envelope"></i>
      <span>Messages</span>
      {% if unread_messages_count > 0 %}
        <span class="badge badge-danger">{{ unread_messages_count }}</span>
      {% endif %}
    </a>
  </li>
  {% endif %}

  {% if user|has_perm:'gradebookcomponent.view_gradebookcomponents' %}
  <li class="nav-item {% if request.resolver_match.url_name == 'studentTotalScore' %}active{% endif %}">
    <a class="nav-link" href="{% url 'studentTotalScore' %}">
      <i class="bx bx-clipboard"></i>
      <span>Grades</span>
    </a>
  </li>
  {% endif %}

  {% if user|has_perm:'roles.view_role' %}
  <li class="nav-item {% if request.resolver_match.url_name == 'roleList' %}active{% endif %}">
    <a class="nav-link" href="{% url 'roleList' %}">
      <i class="bx bx-user"></i>
      <span>Role</span>
    </a>
  </li>
  {% endif %}

  {% if user|has_perm:'subject.view_subject' %}
  <li class="nav-item {% if request.resolver_match.url_name == 'subject' %}active{% endif %}">
    <a class="nav-link" href="{% url 'subject' %}">
      <i class="bx bx-book"></i>
      <span>Subject</span>
    </a>
  </li>
  {% endif %}

  {% if user|has_perm:'course.view_subjectenrollment' %}
  <li class="nav-item {% if request.resolver_match.url_name == 'subject' %}enrollStudent{% endif %}">
    <a class="nav-link" href="{% url 'enrollStudent' %}">
      <i class="bx bx-user"></i>
      <span>Enroll Student</span>
    </a>
  </li>
  {% endif %}


   {% if user|has_perm:'course.view_semester' %}
  <li class="nav-item {% if request.resolver_match.url_name == 'semesterList' %}active{% endif %}">
    <a class="nav-link" href="{% url 'semesterList' %}">
      <i class="bx bx-book"></i>
      <span>Semester</span>
    </a>
  </li>
  {% endif %} 

  {% if user|has_perm:'course.view_term' %}
  <li class="nav-item {% if request.resolver_match.url_name == 'termList' %}active{% endif %}">
    <a class="nav-link" href="{% url 'termList' %}">
      <i class="bx bx-book"></i>
      <span>Term</span>
    </a>
  </li>
  {% endif %} 

  <li class="nav-item {% if request.resolver_match.url_name == 'assist' %}active{% endif %}">
    <a class="nav-link" href="{% url 'assist' %}">
      <i class="bx bx-help-circle"></i>
      <span>Assist</span>
    </a>
  </li>
  <li class="nav-item {% if request.resolver_match.url_name == 'tools' %}active{% endif %}">
    <a class="nav-link" href="{% url 'tools' %}">
      <i class="bx bx-wrench"></i>
      <span>Tools</span>
    </a>
  </li>
</ul>
<!-- End of Sidebar -->
