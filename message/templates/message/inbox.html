{% extends 'base.html' %}
{% load static %}
{% block title %}
  Inbox
{% endblock %}
{% block content %}
  <h1>Inbox</h1>
  <p>You have {{ unread_messages_count }} unread messages.</p>
  <div class="row">
    {% for item in message_status_list %}
      <div class="col-md-4 d-flex align-items-stretch">
        <a href="{% url 'view_message' item.message.id %}" class="card mb-3 w-100 text-decoration-none text-dark">
          <div class="card-body d-flex justify-content-between align-items-center">
            <h5 class="card-title mb-0">
              {{ item.message.subject }}
            </h5>
            <span class="badge {% if item.read %}badge-success{% else %}badge-warning{% endif %} ml-auto">
              {% if item.read %}Read{% else %}Unread{% endif %}
            </span>
          </div>
        </a>
      </div>
    {% endfor %}
  </div>
{% endblock %}
